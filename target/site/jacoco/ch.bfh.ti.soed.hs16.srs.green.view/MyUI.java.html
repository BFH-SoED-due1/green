<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>MyUI.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">srs-green</a> &gt; <a href="index.source.html" class="el_package">ch.bfh.ti.soed.hs16.srs.green.view</a> &gt; <span class="el_source">MyUI.java</span></div><h1>MyUI.java</h1><pre class="source lang-java linenums">/*
 * Copyright (c) 2016 Berner Fachhochschule, Switzerland.
 *
 * Project Smart Reservation System.
 *
 * Distributable under GPL license. See terms of license at gnu.org.
 */
package ch.bfh.ti.soed.hs16.srs.green.view;

import java.util.Set;

import javax.servlet.annotation.WebServlet;

import com.vaadin.annotations.Theme;
import com.vaadin.annotations.VaadinServletConfiguration;
import com.vaadin.server.VaadinRequest;
import com.vaadin.server.VaadinServlet;
import com.vaadin.ui.Alignment;
import com.vaadin.ui.Button;
import com.vaadin.ui.DateField;
import com.vaadin.ui.GridLayout;
import com.vaadin.ui.HorizontalLayout;
import com.vaadin.ui.InlineDateField;
import com.vaadin.ui.Label;
import com.vaadin.ui.TextField;
import com.vaadin.ui.UI;
import com.vaadin.ui.VerticalLayout;

import ch.bfh.ti.soed.hs16.srs.green.controller.MyUIControllers;
import ch.bfh.ti.soed.hs16.srs.green.model.Resource;

/**
 * This UI is the application entry point. A UI may either represent a browser
 * window (or tab) or some part of a html page where a Vaadin application is
 * embedded.
 * &lt;p&gt;
 * The UI is initialized using {@link #init(VaadinRequest)}. This method is
 * intended to be overridden to add component to the user interface and
 * initialize non-component functionality.
 */
@SuppressWarnings(&quot;serial&quot;)
@Theme(&quot;mytheme&quot;)
<span class="nc" id="L43">public class MyUI extends UI {</span>

	private Button register;
	private TextField name;
	private TextField email;
	private TextField pw;
<span class="nc" id="L49">	private MyUIControllers controller = new MyUIControllers();</span>

	@WebServlet(urlPatterns = &quot;/*&quot;, name = &quot;MyUIServlet&quot;, asyncSupported = true)
	@VaadinServletConfiguration(ui = MyUI.class, productionMode = false)
<span class="nc" id="L53">	public static class MyUIServlet extends VaadinServlet {</span>
	}

	public class Reserve extends GridLayout {

<span class="nc" id="L58">		Reserve() {</span>
<span class="nc" id="L59">			super(6, controller.getAmountRooms() + 5);</span>
<span class="nc" id="L60">			System.out.println(controller.getAmountRooms());</span>
<span class="nc" id="L61">			Label label = new Label(name.getValue());</span>
<span class="nc" id="L62">			addComponent(label, 0, 0, 5, 0);</span>
<span class="nc" id="L63">			InlineDateField date = new InlineDateField();</span>
<span class="nc" id="L64">			date.setResolution(DateField.RESOLUTION_DAY);</span>
<span class="nc" id="L65">			addComponent(date, 0, 1, 3, 3);</span>
<span class="nc" id="L66">			addComponent(new Label(&quot;Time: &quot;), 4, 1, 5, 1);</span>
<span class="nc" id="L67">			addComponent(new Label(&quot;From: &quot;), 4, 2);</span>
<span class="nc" id="L68">			addComponent(new Label(&quot;To: &quot;), 4, 3);</span>
<span class="nc" id="L69">			addComponent(new TextField(), 5, 2);</span>
<span class="nc" id="L70">			addComponent(new TextField(), 5, 3);</span>
<span class="nc" id="L71">			setComponentAlignment(label, Alignment.MIDDLE_CENTER);</span>
<span class="nc" id="L72">			addComponent(new Label(&quot;Button&quot;), 0, 4);</span>
<span class="nc" id="L73">			addComponent(new Label(&quot;Room-Nr&quot;), 1, 4);</span>
<span class="nc" id="L74">			addComponent(new Label(&quot;Location&quot;), 2, 4);</span>
<span class="nc" id="L75">			addComponent(new Label(&quot;Size&quot;), 3, 4);</span>
<span class="nc" id="L76">			Set&lt;Resource&gt; resources = controller.getResources();</span>
<span class="nc" id="L77">			int y = 5;</span>
<span class="nc" id="L78">			int x = 1;</span>
<span class="nc bnc" id="L79" title="All 2 branches missed.">			for (Resource r : resources) {</span>
<span class="nc" id="L80">				addComponent(new Label(r.getName()), x++, y);</span>
<span class="nc" id="L81">				System.out.println(x);</span>
<span class="nc" id="L82">				System.out.println(y);</span>
<span class="nc" id="L83">				addComponent(new Label(r.getLocation()), x++, y);</span>
<span class="nc" id="L84">				System.out.println(x);</span>
<span class="nc" id="L85">				System.out.println(y);</span>
<span class="nc" id="L86">				addComponent(new Label(Integer.toString(r.getSize())), x++, y);</span>
<span class="nc" id="L87">				System.out.println(x);</span>
<span class="nc" id="L88">				System.out.println(y);</span>
<span class="nc" id="L89">				y++;</span>
<span class="nc" id="L90">				x = 1;</span>
<span class="nc" id="L91">			}</span>
<span class="nc" id="L92">		}</span>

	}

	@Override
	protected void init(VaadinRequest vaadinRequest) {
<span class="nc" id="L98">		VerticalLayout layout = new VerticalLayout();</span>

<span class="nc" id="L100">		name = new TextField();</span>
<span class="nc" id="L101">		name.setCaption(&quot;Type your name here:&quot;);</span>

<span class="nc" id="L103">		email = new TextField();</span>
<span class="nc" id="L104">		email.setCaption(&quot;Type your email here:&quot;);</span>

<span class="nc" id="L106">		pw = new TextField();</span>
<span class="nc" id="L107">		pw.setCaption(&quot;Type your pw here:&quot;);</span>

<span class="nc" id="L109">		Button login = new Button(&quot;Login&quot;);</span>
<span class="nc" id="L110">		login.addClickListener(e -&gt; {</span>
<span class="nc bnc" id="L111" title="All 2 branches missed.">			if ((controller.login(name.getValue(), pw.getValue()))</span>
<span class="nc bnc" id="L112" title="All 4 branches missed.">					|| (name.equals(name.getValue()) &amp;&amp; pw.equals(pw.getValue()))) {</span>
<span class="nc" id="L113">				layout.addComponent(new Label(&quot;Thanks &quot; + name.getValue() + &quot;, login worked!&quot;));</span>

<span class="nc" id="L115">				setContent(new Reserve());</span>
			}
<span class="nc" id="L117">		});</span>

<span class="nc" id="L119">		register = new Button(&quot;register now&quot;);</span>
<span class="nc" id="L120">		register.addClickListener(e -&gt; {</span>
			try {
<span class="nc" id="L122">				controller.register(name.getValue(), email.getValue(), pw.getValue());</span>
<span class="nc" id="L123">			} catch (Throwable e1) {</span>

<span class="nc" id="L125">				e1.printStackTrace();</span>
<span class="nc" id="L126">			}</span>
<span class="nc" id="L127">		});</span>

<span class="nc" id="L129">		layout.addComponents(name, email, pw, login, register);</span>
<span class="nc" id="L130">		layout.setMargin(true);</span>
<span class="nc" id="L131">		layout.setSpacing(true);</span>

<span class="nc" id="L133">		setContent(layout);</span>
<span class="nc" id="L134">	}</span>

	public Button getButtonReg() {
<span class="nc" id="L137">		return register;</span>
	}

	public TextField getTFN() {
<span class="nc" id="L141">		return name;</span>
	}

	public TextField getTFE() {
<span class="nc" id="L145">		return email;</span>
	}

	public TextField getTFP() {
<span class="nc" id="L149">		return pw;</span>
	}

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.7.201606060606</span></div></body></html>